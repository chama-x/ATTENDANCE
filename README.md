# AttendanceMark

<div align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&height=300&text=AttendanceMark&color=0:BE0039,50:BE0055,100:BE0071&fontColor=ffffff&fontSize=60&desc=AI-Powered%20Attendance%20Management&descAlignY=65&animation=fadeIn">
</div>

<div align="center">
  <a href="https://git.io/typing-svg"><img src="https://readme-typing-svg.herokuapp.com?font=Montserrat&weight=600&duration=4000&pause=1000&color=BE0055&width=435&separator=%3C&lines=Simplify%20Attendance%3CTrack%20with%20AI%3CEmpower%20Educators" alt="Typing SVG" /></a>
</div>

<div style="background: linear-gradient(45deg, #BE0039, #BE0071); padding: 3px; border-radius: 20px; margin: 30px 0; box-shadow: 0 4px 15px rgba(190, 0, 85, 0.2);">
    <div style="background: #1a1b27; padding: 30px; border-radius: 18px; border: 1px solid rgba(190, 0, 85, 0.1);">
        <p align="center" style="font-size: 16px; line-height: 1.6; color: #ffffff; text-shadow: 0 0 20px rgba(190, 0, 85, 0.3);">
            AttendanceMark simplifies the daily task of taking attendance for teachers and educational staff. With an intuitive interface and an AI assistant, the platform makes it easy to track student attendance, generate reports, and maintain accurate records.
            <a href="https://github.com/chama-x/ATTENDANCE" style="color: #BE0055; text-decoration: none; border-bottom: 1px dotted #BE0055;">Explore on GitHub</a>
        </p>
    </div>
</div>
<br>

## <img src="https://media2.giphy.com/media/QssGEmpkyEOhBCb7e1/giphy.gif?cid=ecf05e47a0n3gi1bfqntqmob8g9aid1oyj2wr3ds3mg700bl&rid=giphy.gif" width="25px"> Key Features

<div style="background: linear-gradient(45deg, #9B005C, #6A003C); padding: 2px; border-radius: 10px; margin: 20px 0;">
    <div style="background: #1a1b27; padding: 20px; border-radius: 10px;">
        <table align="center" style="width: 100%; border-spacing: 15px;">
            <tr align="center">
                <th style="background: #9B005C; color: white; padding: 10px; border-radius: 8px;">Core</th>
                <th style="background: #9B005C; color: white; padding: 10px; border-radius: 8px;">Analytics</th>
                <th style="background: #9B005C; color: white; padding: 10px; border-radius: 8px;">Management</th>
            </tr>
            <tr align="center" style="color: white;">
                <td style="background: #1a1b27; padding: 12px; border-radius: 8px;">
                    AI Teaching Assistant<br>Real-time Tracking
                </td>
                <td style="background: #1a1b27; padding: 12px; border-radius: 8px;">
                    Detailed Analytics<br>Automated Reminders
                </td>
                <td style="background: #1a1b27; padding: 12px; border-radius: 8px;">
                    Bulk Operations<br>Student Management
                </td>
            </tr>
        </table>
    </div>
</div>

- **Conversational AI Assistant**: Natural language interface for quick attendance tasks and inquiries
- **Real-time Attendance Tracking**: Mark students as present, absent, or late in seconds
- **Bulk Operations**: Mark multiple students or entire classes at once with simple commands
- **Detailed Analytics**: View trends, identify patterns, and generate insightful reports
- **Personalized Experience**: Time-aware responses and contextual suggestions
- **Command Flexibility**: Use natural language or slash commands for all operations

## <img src="https://media2.giphy.com/media/QssGEmpkyEOhBCb7e1/giphy.gif?cid=ecf05e47a0n3gi1bfqntqmob8g9aid1oyj2wr3ds3mg700bl&rid=giphy.gif" width="25px"> Technology Stack

<div style="background: linear-gradient(45deg, #9B005C, #6A003C); padding: 2px; border-radius: 10px; margin: 20px 0;">
    <div style="background: #1a1b27; padding: 20px; border-radius: 10px;">
        <table align="center" style="width: 100%; border-spacing: 15px;">
            <tr align="center">
                <th style="background: #9B005C; color: white; padding: 10px; border-radius: 8px;">Frontend</th>
                <th style="background: #9B005C; color: white; padding: 10px; border-radius: 8px;">Backend</th>
                <th style="background: #9B005C; color: white; padding: 10px; border-radius: 8px;">AI & Tools</th>
            </tr>
            <tr align="center" style="color: white;">
                <td style="background: #1a1b27; padding: 12px; border-radius: 8px;">
                    <img src="https://img.shields.io/badge/React.js-1a1b27?style=for-the-badge&logo=react&logoColor=BE3455" /><br>
                    <img src="https://img.shields.io/badge/TypeScript-1a1b27?style=for-the-badge&logo=typescript&logoColor=BE3455" />
                </td>
                <td style="background: #1a1b27; padding: 12px; border-radius: 8px;">
                    <img src="https://img.shields.io/badge/Firebase-1a1b27?style=for-the-badge&logo=firebase&logoColor=BE3455" />
                </td>
                <td style="background: #1a1b27; padding: 12px; border-radius: 8px;">
                    <img src="https://img.shields.io/badge/Google%20AI-1a1b27?style=for-the-badge&logo=google&logoColor=BE3455" /><br>
                    <img src="https://img.shields.io/badge/Context%20API-1a1b27?style=for-the-badge&logo=react&logoColor=BE3455" />
                </td>
            </tr>
        </table>
    </div>
</div>

- **Frontend**: React.js with TypeScript for type-safe components
- **Backend**: Firebase (Authentication, Firestore Database, Realtime Database)
- **AI Integration**: Google's Generative AI (Gemini 1.5 Flash) via Firebase GenKit
- **State Management**: React Context API with custom hooks
- **Styling**: Modern CSS with responsive design
- **Architecture**: Modular component-based structure with tool abstraction

## <img src="https://media.giphy.com/media/LnQjpWaON8nhr21vNW/giphy.gif" width="25px"> Getting Started

<div style="background: linear-gradient(45deg, #BE0039, #BE0071); padding: 3px; border-radius: 20px; margin: 30px 0; box-shadow: 0 4px 15px rgba(190, 0, 85, 0.2);">
    <div style="background: #1a1b27; padding: 30px; border-radius: 18px; border: 1px solid rgba(190, 0, 85, 0.1);">
        <p align="center" style="font-size: 16px; line-height: 1.6; color: #ffffff; text-shadow: 0 0 20px rgba(190, 0, 85, 0.3);">
            <strong>Prerequisites:</strong> Node.js (v14+), npm/yarn, Firebase account, Google Generative AI API key.<br><br>
            <strong>Installation:</strong><br>
            1. Clone: <code>git clone https://github.com/chama-x/ATTENDANCE.git</code><br>
            2. Install: <code>npm install</code><br>
            3. Set up <code>.env</code> with Firebase and Google AI keys.<br>
            4. Start: <code>npm start</code>
        </p>
    </div>
</div>

### For Beginners

1. **Setting up your environment**:
   - Install [Node.js](https://nodejs.org/) (version 14 or higher)
   - Install [Git](https://git-scm.com/downloads) for your operating system

2. **Clone and run the project**:
   ```bash
   # Clone the repository
   git clone https://github.com/chama-x/ATTENDANCE.git
   
   # Navigate to project folder
   cd ATTENDANCE
   
   # Install dependencies
   npm install
   
   # Create .env file (copy from .env.example)
   cp .env.example .env
   
   # Start development server
   npm start
   ```

3. **Setting up Firebase**:
   - Create a [Firebase account](https://firebase.google.com/)
   - Create a new project in Firebase console
   - Enable Authentication, Firestore Database, and Realtime Database
   - Add your app to Firebase project to get configuration keys
   - Update `.env` file with your Firebase credentials

4. **Getting Google AI API Key**:
   - Visit [Google AI Studio](https://makersuite.google.com/)
   - Create an API key for Gemini models
   - Add the API key to your `.env` file

### For Advanced Users

#### Deployment to Netlify

1. **Prepare your application**:
   - Create a `netlify.toml` in your project root:
     ```toml
     [build]
       command = "npm run build"
       publish = "build"
     
     [[redirects]]
       from = "/*"
       to = "/index.html"
       status = 200
     ```

2. **Set up environment variables**:
   - Add all Firebase and Google AI credentials to Netlify environment variables
   - Ensure variables are prefixed with `REACT_APP_`

3. **Deploy your application**:
   - Connect your GitHub repository to Netlify
   - Configure build settings (build command: `npm run build`, publish directory: `build`)
   - Deploy your application

#### Firebase GenKit Integration

This project leverages Firebase GenKit to integrate Google's Generative AI capabilities:

```typescript
// Example GenKit integration
import { GoogleGenerativeAI } from '@google/generative-ai';
import { GOOGLE_GENAI_API_KEY } from '../../firebaseConfig';

// Initialize the model
const genAI = new GoogleGenerativeAI(GOOGLE_GENAI_API_KEY);
const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });

// Use structured outputs for internal commands
const analysisPrompt = `${context}\n\nUser: ${prompt}\n\nAnalyze what the user is asking for...`;
const analysisResult = await model.generateContent({
  contents: [{ role: 'user', parts: [{ text: analysisPrompt }] }]
});
```

## AI Assistant Usage

The AI assistant responds to natural language or slash commands:

### Slash Commands

- `/add-student [name]` - Add a new student to the class
- `/mark-present [name]` - Mark a student as present
- `/mark-absent [name]` - Mark a student as absent
- `/mark-all [status]` - Mark all students with a status
- `/mark-students [status] [name1], [name2]` - Mark multiple specific students
- `/today` - Show today's attendance statistics
- `/present` - List students who are present today
- `/absent` - List students who are absent today
- `/late` - List students who are late today
- `/stats` - Show overall attendance statistics
- `/help` - Display available commands

### Natural Language Examples

Simply type conversational requests like:
- "Mark Sunil and Sampath as present"
- "Add a new student named Hasith Rajapaksa"
- "Who's absent today?"
- "Show me the attendance statistics for this month"

## Firebase GenKit - Cutting Edge AI Integration

AttendanceMark uses Firebase's GenKit, which significantly enhances the developer experience:

> "I used Firebase's GenKit for this project which came handy as I have been able to get structured outputs to run internal commands such as marking attendance, bulk attendance, check attendance and personalization with current time etc."

Firebase GenKit is an open-source TypeScript toolkit designed to help you build AI-powered features in web and mobile apps. It offers a unified interface for integrating AI models from Google, OpenAI, Anthropic, Ollama, and more, so you can explore and choose the best models for your needs. 

The toolkit simplifies AI development with streamlined APIs for:
- Multimodal content generation
- Structured data generation
- Tool calling
- Human-in-the-loop interactions
- Advanced AI capabilities

GenKit handles the complexity of AI integration so you can focus on creating incredible user experiences whether you're building chatbots, intelligent agents, workflow automations, or recommendation systems.

Firebase GenKit was officially released as a production-ready toolkit for Node.js with version 1.0 on March 27, 2025, providing cutting-edge capabilities that improve developer experience and efficiency.

## Project Structure

```
attendancemark/
├── public/
├── src/
│   ├── components/
│   │   ├── common/
│   │   ├── teacher/
│   │   │   └── AIAssistantWidget.tsx  # AI assistant implementation
│   │   └── admin/
│   ├── context/
│   │   └── AuthContext.tsx            # Authentication context
│   ├── types/                         # TypeScript interfaces
│   ├── utils/
│   │   └── firebaseService.ts         # Firebase API interactions
│   ├── firebaseConfig.ts              # Firebase configuration
│   ├── pages/
│   ├── App.tsx
│   └── index.tsx
├── .env                               # Environment variables
├── netlify.toml                       # Netlify configuration
├── tsconfig.json
├── package.json
└── README.md
```

## Code Architecture Highlights

The application employs several architectural patterns for maintainability:

1. **Tool Execution Abstraction**: Centralized error handling for consistent responses
   ```typescript
   const errorHandler = (error: unknown): ToolResult => ({
     success: false,
     result: error instanceof Error ? `Error: ${error.message}` : 'An unknown error occurred'
   });
   ```

2. **Dynamic Command Registry**: Flexible command system for easy extension
   ```typescript
   const commandRegistry = {
     '/add-student': {
       execute: async (text: string) => {
         // Implementation
       }
     },
     // More commands...
   };
   ```

3. **Bulk Operation Optimizer**: Efficient processing of multiple attendance records
   ```typescript
   const { matches: studentsToUpdate, notFound } = findMatchingStudents(students, {
     includedNames: includedStudentNames,
     excludedNames: excludedStudentNames,
     includeAll: markAll
   });
   ```

4. **Custom Message Hooks**: Streamlined state management for chat functionality
   ```typescript
   function useMessages() {
     const [messages, setMessages] = useState<Message[]>([]);
     const addUserMessage = useCallback((text: string) => {
       // Implementation
     }, []);
     // More implementation...
     return { messages, setMessages, addUserMessage, addAIMessage };
   }
   ```

## Future Enhancements

- Mobile application for on-the-go attendance marking
- Integration with school management systems
- Advanced reporting and export options
- Multi-language support
- Offline functionality with sync capabilities
- Enhanced AI capabilities with newer model integrations

## <img src="https://media.giphy.com/media/LnQjpWaON8nhr21vNW/giphy.gif" width="25px"> Get in Touch

<div style="background: linear-gradient(45deg, #BE0039, #BE0071); padding: 3px; border-radius: 20px; margin: 30px 0; box-shadow: 0 4px 15px rgba(190, 0, 85, 0.2);">
    <div style="background: #1a1b27; padding: 30px; border-radius: 18px; border: 1px solid rgba(190, 0, 85, 0.1);">
        <div align="center">
            <p style="color: #ffffff; font-size: 16px; margin-bottom: 20px; text-shadow: 0 0 20px rgba(190, 0, 85, 0.3);">Developed with ❤️ by Chamath Thiwanka. Let's collaborate!</p>
            <a href="https://github.com/chama-x" style="font-size: 20px; text-decoration: none; color: #BE0055; border-bottom: 1px dotted #BE0055;">GitHub</a><br><br>
            <a href="mailto:chamath@example.com" style="font-size: 20px; text-decoration: none; color: #BE0055; border-bottom: 1px dotted #BE0055;">chamath@example.com</a><br>
        </div>
    </div>
</div>

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

<div align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&height=100&section=footer&color=0:BE0071,50:BE0055,100:BE0039&fontColor=ffffff&fontSize=14&animation=fadeIn">
</div>
